<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>簡單測試 - 關聯圖</title>
    <script src="https://unpkg.com/vis-network@9.1.2/standalone/umd/vis-network.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            width: 100%;
            height: 100%;
            background: #000;
        }
        #container {
            width: 100%;
            height: 100%;
            background: #1a1a1a;
        }
        #status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: #fff;
            color: #000;
            padding: 10px;
            z-index: 9999;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="status">正在載入...</div>
    <div id="container"></div>

    <script>
        document.getElementById("status").innerText = "檢查 vis: " + (typeof vis !== "undefined" ? "OK" : "FAIL");

        setTimeout(() => {
            try {
                const nodes = new vis.DataSet([
                    { id: 1, label: "患者", group: "patient", shape: "star", size: 30 },
                    { id: 2, label: "高血壓", group: "condition" },
                    { id: 3, label: "血壓測量", group: "observation" },
                    { id: 4, label: "Amlodipine", group: "medication" }
                ]);

                const edges = new vis.DataSet([
                    { from: 1, to: 2, label: "患有" },
                    { from: 1, to: 3, label: "檢測" },
                    { from: 1, to: 4, label: "用藥" }
                ]);

                const options = {
                    nodes: { shape: "dot", size: 20 },
                    physics: { enabled: true }
                };

                const container = document.getElementById("container");
                const network = new vis.Network(container, { nodes, edges }, options);
                
                document.getElementById("status").innerText = "圖已繪製 ✓";
                
            } catch (e) {
                document.getElementById("status").innerText = "錯誤: " + e.message;
            }
        }, 500);
    </script>
</body>
</html>
